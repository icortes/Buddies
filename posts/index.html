<!-- POSTS page -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" />

    <!-- Global CSS (CSS rules you want applied to all pages) -->
    <link rel="stylesheet" href="../global.css" />

    <!-- Page-specific CSS -->
    <link rel="stylesheet" href="../posts/posts.css" />

    <link rel="icon" href="/assets/icons/icon2.PNG">
    <title>Posts</title>

    <!-- Run BEFORE page is finished loading (before window.onload): -->
    <script src="../auth.js"></script>
    <script>
      if (isLoggedIn() === false) window.location.replace('/');
    </script>
  </head>
  <body>
    <header></header>

    <main class="container-lg my-3" id="main">
      <div class="row">
        <!-- USER SIDEBAR SECTION -->
        <div class="col-12 col-lg-3">
          <!-- Advanced filter responsive toggler START -->
          <div class="d-flex align-items-center d-lg-none">
            <button
              class="border-0 bg-transparent"
              type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasSideNavbar"
              aria-controls="offcanvasSideNavbar">
              <span class="btn btn-primary"><i class="bi bi-sliders"></i></span>
              <span class="h6 mb-0 fw-bold d-lg-none ms-2">My profile</span>
            </button>
          </div>
          <!-- Advanced filter responsive toggler END -->

          <!-- Sidebar START-->
          <nav class="navbar navbar-expand-lg mx-0 pt-0">
            <div
              class="offcanvas-lg offcanvas-start"
              tabindex="-1"
              id="offcanvasSideNavbar">
              <!-- Offcanvas header -->
              <div class="offcanvas-header">
                <button
                  type="button"
                  class="btn-close text-reset ms-auto"
                  data-bs-dismiss="offcanvas"
                  aria-label="Close"></button>
              </div>

              <!-- Offcanvas body -->
              <div class="offcanvas-body d-block px-2 px-lg-0">
                <!-- Card START -->
                <div class="card overflow-hidden user-card">
                  <!-- Cover image -->
                  <!-- <div
                    class="h-50px"
                    style="
                      background-image: url();
                      background-position: center;
                      background-size: cover;
                      background-repeat: no-repeat;
                    "></div> -->
                  <!-- Card body START -->
                  <div class="card-body pt-3">
                    <div class="text-center">
                      <!-- Avatar -->
                      <div class="avatar avatar-lg mb-3">
                        <a href="/profile"
                          ><img
                            class="avatar-img rounded border border-white border-3"
                            src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png"
                            alt=""
                            width="64px"
                        /></a>
                      </div>
                      <!-- Info -->
                      <h5 class="mb-0"><a href="/profile" id="userFullName"></a></h5>
                      <small id="userName"></small>
                      <p class="mt-3" id="userBio"></p>

                      <!-- User stat START -->
                      <div class="hstack gap-2 gap-xl-3 justify-content-center">
                        <!-- User stat item -->
                        <div>
                          <h6 class="mb-0">256</h6>
                          <small>Post</small>
                        </div>
                        <!-- Divider -->
                        <div class="vr"></div>
                        <!-- User stat item -->
                        <div>
                          <h6 class="mb-0">2.5K</h6>
                          <small>Followers</small>
                        </div>
                        <!-- Divider -->
                        <div class="vr"></div>
                        <!-- User stat item -->
                        <div>
                          <h6 class="mb-0">365</h6>
                          <small>Following</small>
                        </div>
                      </div>
                      <!-- User stat END -->
                    </div>

                    <!-- Divider -->
                    <hr />

                    <!-- Side Nav START -->
                    <ul class="nav nav-link-secondary flex-column fw-bold gap-2 hover">
                      <li class="nav-item">
                        <a class="nav-link text-dark rounded" href="/"> üè† <span>Feed</span></a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-dark rounded" href="">
                          üîó <span>Connections </span></a
                        >
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-dark rounded" href="">
                          üåé <span>Latest News </span></a
                        >
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-dark rounded" href=""> üóìÔ∏è <span>Events </span></a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-dark rounded" href=""> üí¨ <span>Groups </span></a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-dark rounded" href="">
                          üîî <span>Notifications </span></a
                        >
                      </li>
                      <li class="nav-item">
                        <a class="nav-link text-dark rounded" href="">
                          ‚öôÔ∏è <span>Settings </span></a
                        >
                      </li>
                      <li class="nav-item">
                        <button class="nav-link text-dark rounded w-100 text-start" onclick="logout();">
                          üîö <span>Log Out </span>
                        </button>
                      </li>
                    </ul>
                    <!-- Side Nav END -->
                  </div>
                  <!-- Card body END -->
                  <!-- Card footer -->
                  <div class="card-footer text-center py-2">
                    <a class="btn btn-link btn-sm text-dark" href="/profile">View Profile </a>
                  </div>
                </div>
                <!-- Card END -->

                <!-- Helper link START -->
                <ul class="nav small mt-4 justify-content-center lh-1">
                  <li class="nav-item">
                    <a class="nav-link" href="">About</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="">Settings</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" target="_blank" href="">Support </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" target="_blank" href="">Docs </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="">Help</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="">Privacy &amp; terms</a>
                  </li>
                </ul>
                <!-- Helper link END -->
                <!-- Copyright -->
                <p class="small text-center mt-1">
                  ¬©2024
                  <a class="text-reset" target="_blank" href="/"> Buddies </a>
                </p>
              </div>
            </div>
          </nav>
          <!-- Navbar END-->
        </div>

        <!-- POSTS SECTION -->
        <div class="col overflow-hidden">
          <!-- Input Box -->
          <div class="card card-body mb-4 user-card">
            <div class="d-flex mb-3">
              <!-- Avatar -->
              <div class="avatar avatar-xs me-2">
                <a href="#">
                  <img
                    class="avatar-img rounded-circle"
                    src="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png"
                    width="35px"
                    alt="" />
                </a>
              </div>
              <!-- Post input -->
              <form class="w-100">
                <textarea
                  class="form-control pe-4 border-0"
                  id="newPost"
                  rows="3"
                  placeholder="Share your thoughts..."></textarea>
              </form>
            </div>
            <!-- Share feed toolbar START -->
            <ul class="nav nav-pills small fw-normal">
              <li class="nav-item pe-1">
                <a class="nav-link bg-light py-1 px-2 mb-0" href="#!">
                  <i class="bi bi-image-fill text-success pe-2"></i>Photo</a
                >
              </li>
              <li class="nav-item pe-1">
                <a class="nav-link bg-light py-1 px-2 mb-0" href="#!">
                  <i class="bi bi-camera-reels-fill text-info pe-2"></i>Video</a
                >
              </li>
              <li class="nav-item pe-1">
                <a href="#" class="nav-link bg-light py-1 px-2 mb-0">
                  <i class="bi bi-calendar2-event-fill text-danger pe-2"></i>Event
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link bg-light py-1 px-2 mb-0" href="#!">
                  <i class="bi bi-emoji-smile-fill text-warning pe-2"></i>Feeling
                  /Activity</a
                >
              </li>
              <li class="nav-item dropdown ms-auto">
                <button
                  class="nav-link bg-light text-success py-1 px-2 mb-0"
                  href="#"
                  id="submitNewPost">
                  <i class="bi bi-send"></i> SEND
                </button>
              </li>
            </ul>
            <!-- Share feed toolbar END -->
          </div>

          <!-- Posts Starts Here -->
          <div class="row g-4" id="postsContainer">
            <!-- Loading Spinner -->
            <div class="d-flex justify-content-center" id="spinner">
              <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>
            <!-- <div class="d-grid mt-3">
              <button class="btn btn-sm btn-primary-soft fs-6" onclick="loadMorePosts();">
                View more
              </button>
            </div> -->
          </div>
        </div>

        <div class="col-lg-3">
          <div class="row g-4">
            <!-- Card follow START -->
            <div class="col-12">
              <div class="card mt-4 mt-lg-0 user-card">
                <!-- Card header START -->
                <div class="card-header pb-0 border-0">
                  <h5 class="card-title mb-1">Who to follow</h5>
                </div>
                <!-- Card body START -->
                <div class="card-body" id="connectionsContainer">
                  <!-- Connection item START -->

                  <!-- Spinner until items load -->
                  <div class="d-flex justify-content-center">
                    <div class="spinner-border" role="status">
                      <span class="visually-hidden">Loading...</span>
                    </div>
                  </div>
                </div>
                <!-- Card body END -->
              </div>
            </div>
            <!-- Card follow START -->
          </div>
        </div>
      </div>
    </main>
    <footer></footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"></script>
    <!-- Page-specific code -->
    <script src="../posts/posts.js"></script>
  </body>
</html>
